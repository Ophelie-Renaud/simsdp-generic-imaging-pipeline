/**
* @file /Cluster_sub19_urc_0.c/h
* @generated by CodegenScape
* @date Tue Dec 10 11:12:16 CET 2024
*/

#include "Cluster_sub19_urc_0.h"

static int cfg_0 = 2458;
static int cfg_1 = 2458;
static int cfg_2 = 2458;
static int cfg_3 = 2458;
static int cfg_4 = 2458;
static int cfg_5 = 2458;
static int cfg_6 = 200;
static int cfg_7 = 200;
 void Cluster_sub19_urc_0Init(){
}
void Cluster_sub19_urc_0(int cfg_0,int cfg_1,int cfg_2,int cfg_3,int cfg_4,int cfg_5,int cfg_6,int cfg_7,PRECISION2 *delta_psi_1_delta_inverse_fft_run_uv_grid_uv_grid,Config *delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_config,Config *delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_config,PRECISION *delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_prolate,Config *delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_config,PRECISION *delta_psi_1_psi_hogbom_clean_partial_psf,Config *delta_psi_1_psi_hogbom_clean_config,PRECISION *delta_psi_1_psi_hogbom_clean_current_model,int2 *delta_psi_1_psi_hogbom_clean_partial_psf_halfdims,PRECISION *delta_psi_1_Broadcast_residual_save,int *delta_psi_1_psi_hogbom_clean_num_sources_out,PRECISION3 *delta_psi_1_psi_hogbom_clean_sources_out,PRECISION *delta_psi_1_psi_hogbom_clean_output_model){

// buffer declaration

PRECISION2 delta_psi_1_delta_inverse_fft_run_uv_grid_if_uv_grid__delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_uv_grid_in[6041764];

PRECISION2 *delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_uv_grid_out__delta_psi_1_delta_inverse_fft_run_CUFFT_EXECUTE_INVERSE_C2C_actor_uv_grid_in = (PRECISION2 *)malloc(6041764*sizeof(PRECISION2));

PRECISION2 *delta_psi_1_delta_inverse_fft_run_CUFFT_EXECUTE_INVERSE_C2C_actor_uv_grid_out__delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_uv_grid = (PRECISION2 *)malloc(6041764*sizeof(PRECISION2));

PRECISION *delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_dirty_image__delta_psi_1_delta_inverse_fft_run_dirty_image_if_dirty_image = (PRECISION *)malloc(6041764*sizeof(PRECISION));

PRECISION *delta_psi_1_delta_inverse_fft_run_dirty_image_dirty_image__delta_psi_1_delta_convolution_correction_run_dirty_image_in_dirty_image_in = (PRECISION *)malloc(6041764*sizeof(PRECISION));

PRECISION *delta_psi_1_delta_convolution_correction_run_dirty_image_in_if_dirty_image_in__delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_dirty_image_in = (PRECISION *)malloc(6041764*sizeof(PRECISION));

PRECISION *delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_dirty_image_out__delta_psi_1_delta_convolution_correction_run_dirty_image_out_if_dirty_image_out = (PRECISION *)malloc(6041764*sizeof(PRECISION));

PRECISION *delta_psi_1_delta_convolution_correction_run_dirty_image_out_dirty_image_out__delta_psi_1_delta_delta_image_if_delta_image = (PRECISION *)malloc(6041764*sizeof(PRECISION));

PRECISION *delta_psi_1_delta_delta_image_delta_image__delta_psi_1_Broadcast_residual_input = (PRECISION *)malloc(6041764*sizeof(PRECISION));

PRECISION *delta_psi_1_Broadcast_residual_psi__delta_psi_1_psi_delta_image_delta_image = (PRECISION *)malloc(6041764*sizeof(PRECISION));

PRECISION *delta_psi_1_psi_delta_image_if_delta_image__delta_psi_1_psi_hogbom_clean_residual = (PRECISION *)malloc(6041764*sizeof(PRECISION));

// body 
//delta_psi_1_delta_inverse_fft_run_uv_grid
memcpy(delta_psi_1_delta_inverse_fft_run_uv_grid_if_uv_grid__delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_uv_grid_in + 0,delta_psi_1_delta_inverse_fft_run_uv_grid_uv_grid + 0,6041764*sizeof(PRECISION2));
fft_shift_complex_to_complex_actor(GRID_SIZE,delta_psi_1_delta_inverse_fft_run_uv_grid_if_uv_grid__delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_uv_grid_in,delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_config,delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_uv_grid_out__delta_psi_1_delta_inverse_fft_run_CUFFT_EXECUTE_INVERSE_C2C_actor_uv_grid_in);
CUFFT_EXECUTE_INVERSE_C2C_actor(GRID_SIZE,delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_uv_grid_out__delta_psi_1_delta_inverse_fft_run_CUFFT_EXECUTE_INVERSE_C2C_actor_uv_grid_in,delta_psi_1_delta_inverse_fft_run_CUFFT_EXECUTE_INVERSE_C2C_actor_uv_grid_out__delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_uv_grid);
fft_shift_complex_to_real_actor(GRID_SIZE,delta_psi_1_delta_inverse_fft_run_CUFFT_EXECUTE_INVERSE_C2C_actor_uv_grid_out__delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_uv_grid,delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_config,delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_dirty_image__delta_psi_1_delta_inverse_fft_run_dirty_image_if_dirty_image);
//delta_psi_1_delta_inverse_fft_run_dirty_image
//delta_psi_1_delta_convolution_correction_run_dirty_image_in
memcpy(delta_psi_1_delta_convolution_correction_run_dirty_image_in_if_dirty_image_in__delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_dirty_image_in + 0,delta_psi_1_delta_inverse_fft_run_dirty_image_dirty_image__delta_psi_1_delta_convolution_correction_run_dirty_image_in_dirty_image_in + 0,6041764*sizeof(PRECISION));
execute_convolution_correction_actor(GRID_SIZE,delta_psi_1_delta_convolution_correction_run_dirty_image_in_if_dirty_image_in__delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_dirty_image_in,delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_prolate,delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_config,delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_dirty_image_out__delta_psi_1_delta_convolution_correction_run_dirty_image_out_if_dirty_image_out);
//delta_psi_1_delta_convolution_correction_run_dirty_image_out
//delta_psi_1_delta_delta_image
//delta_psi_1_Broadcast_residual
memcpy(delta_psi_1_Broadcast_residual_psi__delta_psi_1_psi_delta_image_delta_image + 0,delta_psi_1_delta_delta_image_delta_image__delta_psi_1_Broadcast_residual_input + 0,6041764*sizeof(PRECISION));
memcpy(delta_psi_1_Broadcast_residual_save + 0,delta_psi_1_delta_delta_image_delta_image__delta_psi_1_Broadcast_residual_input + 0,6041764*sizeof(PRECISION));
//delta_psi_1_psi_delta_image
memcpy(delta_psi_1_psi_delta_image_if_delta_image__delta_psi_1_psi_hogbom_clean_residual + 0,delta_psi_1_Broadcast_residual_psi__delta_psi_1_psi_delta_image_delta_image + 0,6041764*sizeof(PRECISION));
hogbom_clean(GRID_SIZE,NUM_MINOR_CYCLES,MAX_SOURCES,delta_psi_1_psi_delta_image_if_delta_image__delta_psi_1_psi_hogbom_clean_residual,delta_psi_1_psi_hogbom_clean_partial_psf,delta_psi_1_psi_hogbom_clean_config,delta_psi_1_psi_hogbom_clean_current_model,delta_psi_1_psi_hogbom_clean_partial_psf_halfdims,delta_psi_1_psi_hogbom_clean_num_sources_out,delta_psi_1_psi_hogbom_clean_sources_out,delta_psi_1_psi_hogbom_clean_output_model);


// free buffer
free(delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_complex_actor_uv_grid_out__delta_psi_1_delta_inverse_fft_run_CUFFT_EXECUTE_INVERSE_C2C_actor_uv_grid_in);
free(delta_psi_1_delta_inverse_fft_run_CUFFT_EXECUTE_INVERSE_C2C_actor_uv_grid_out__delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_uv_grid);
free(delta_psi_1_delta_inverse_fft_run_fft_shift_complex_to_real_actor_dirty_image__delta_psi_1_delta_inverse_fft_run_dirty_image_if_dirty_image);
free(delta_psi_1_delta_inverse_fft_run_dirty_image_dirty_image__delta_psi_1_delta_convolution_correction_run_dirty_image_in_dirty_image_in);
free(delta_psi_1_delta_convolution_correction_run_dirty_image_in_if_dirty_image_in__delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_dirty_image_in);
free(delta_psi_1_delta_convolution_correction_run_execute_convolution_correction_actor_dirty_image_out__delta_psi_1_delta_convolution_correction_run_dirty_image_out_if_dirty_image_out);
free(delta_psi_1_delta_convolution_correction_run_dirty_image_out_dirty_image_out__delta_psi_1_delta_delta_image_if_delta_image);
free(delta_psi_1_delta_delta_image_delta_image__delta_psi_1_Broadcast_residual_input);
free(delta_psi_1_Broadcast_residual_psi__delta_psi_1_psi_delta_image_delta_image);
free(delta_psi_1_psi_delta_image_if_delta_image__delta_psi_1_psi_hogbom_clean_residual);
}
